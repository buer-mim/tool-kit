<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
</head>
<body>
    <script src="./dist/bundle.js"></script>
    <script>
        // 数组去重
        const arrRepeat = (arr, ...args) => {
            if(!arr || !Array.isArray(arr)){
                return;
            };
            const data = JSON.parse(JSON.stringify(arr));
            const map = new Map();
            if(args.length > 1){
                return data.filter((item) => {
                    if(typeof item === "object" && Object.prototype.toString.call(item).toLowerCase() === "[object object]" && !item?.length){
                        const state = args.every((e) => {
                            return Object.keys(item).some((s) => {
                                return e === s;
                            });
                        });
                        return state ? !map.has(`${JSON.stringify(item)}`) && map.set(`${JSON.stringify(item)}`, 1) : item;
                    } else {
                        return item;
                    };
                });
            } else {
                const target = args[0];
                return data.filter((item) => {
                    if(target){
                        return item[target] ? !map.has(`${target}-${item[target]}`) && map.set(`${target}-${item[target]}`, 1) : item;
                    } else {
                        return !map.has(item) && map.set(item,1);
                    };
                });
            };
        };
    </script>
</body>
</html>